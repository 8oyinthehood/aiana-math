<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>МАТЕМАТИК АЙАНА — Қосу Квиз</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer"/>

  <script>
    tailwind = window.tailwind || {};
    tailwind.config = {
      theme: {
        extend: {
          colors: { primary: '#0ea5a4', accent: '#6366f1', ui:'#0f172a' },
          boxShadow: { 'soft-lg': '0 10px 30px rgba(2,6,23,0.18)' }
        }
      }
    }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.4/lottie.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <meta name="theme-color" content="#0ea5a4"/>
  <link rel="manifest" href="manifest.json">
  <style>
    body { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .choice-btn { transition: transform .14s, box-shadow .14s; }
    .choice-btn:active { transform: translateY(2px) scale(.997); }
    .fade-in { animation: fadeIn .45s ease both; }
    @keyframes fadeIn { from { opacity:0; transform: translateY(6px);} to {opacity:1; transform:none;} }
    .timer-svg { transform: rotate(-90deg); }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-50 to-white antialiased">

  <div class="max-w-xl mx-auto p-4">
    <header class="flex items-center justify-between mb-4">
      <div class="flex items-center gap-3">
        <img src="icon-192.png" class="w-12 h-12 rounded-lg shadow-lg" alt="Quiz icon">
        <div>
          <h1 class="text-2xl font-semibold">МАТЕМАТИК АЙАНА <span class="text-xs text-slate-500 ml-2">Қосу Квиз</span></h1>
          <p class="text-sm text-slate-500">10 сұрақ · Әр сұрақ 10 секунд · Жылдам әрі кәсіби</p>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <button id="installBtn" class="hidden p-2 rounded-lg"><i class="fa fa-download"></i> Орнату</button>
        <button id="infoBtn" class="p-2 rounded-lg hover:bg-slate-100"><i class="material-icons">info</i></button>
      </div>
    </header>

    <main id="quiz-card" class="bg-white rounded-2xl p-5 shadow-soft-lg">
      <div class="flex items-center justify-between mb-4">
        <div>
          <div class="text-sm text-slate-500">Сұрақ <span id="progressText">0/10</span></div>
          <div class="text-xs text-slate-400">Дұрыс: <span id="scoreMini">0</span> · Серия: <span id="streak">0</span></div>
        </div>
        <div class="flex items-center gap-3">
          <div class="relative w-14 h-14">
            <svg class="timer-svg w-14 h-14" viewBox="0 0 36 36">
              <path stroke="#eee" stroke-width="3" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
              <path id="timerArc" stroke="#0ea5a4" stroke-width="3.2" stroke-linecap="round" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
            </svg>
            <div class="absolute inset-0 flex items-center justify-center">
              <div id="timerText" class="text-sm font-semibold">10s</div>
            </div>
          </div>
        </div>
      </div>

      <section id="questionArea" class="mb-4">
        <div id="questionBox" class="rounded-xl p-4 bg-gradient-to-r from-white to-slate-50 shadow-inner">
          <div id="questionText" class="text-3xl font-extrabold text-slate-800">—</div>
          <div id="subHint" class="text-sm text-slate-400 mt-1">Тез ойлаңыз — 10 секунд</div>
        </div>
      </section>

      <section id="choices" class="grid grid-cols-1 gap-3 mt-4"></section>

      <div class="mt-4 flex items-center justify-between">
        <div class="text-sm text-slate-500">Уақыт қалды: <span id="timeLeftMini">10s</span></div>
        <div class="flex items-center gap-2">
          <button id="hintBtn" class="px-3 py-1 rounded-lg bg-slate-100 text-sm"><i class="fa fa-lightbulb"></i> Кеңес</button>
          <button id="skipBtn" class="px-3 py-1 rounded-lg bg-slate-100 text-sm"><i class="fa fa-forward"></i> Өткізу</button>
        </div>
      </div>
    </main>

    <div id="resultCard" class="mt-6 bg-white rounded-2xl p-5 shadow-soft-lg hidden">
      <div class="flex items-start justify-between">
        <div>
          <h2 class="text-2xl font-bold" id="finalTitle">Нәтиже — МАТЕМАТИК АЙАНА</h2>
          <p class="text-sm text-slate-500 mt-1">Профильдік ұпай, диаграмма, және толық талдау</p>
        </div>
        <div class="text-right">
          <div class="text-lg font-extrabold" id="finalPoints">0</div>
          <div class="text-xs text-slate-400">Skill Index</div>
        </div>
      </div>

      <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="p-3 bg-slate-50 rounded-lg"><canvas id="chartCorrect" width="300" height="200"></canvas></div>
        <div class="p-3 bg-slate-50 rounded-lg"><canvas id="chartTime" width="300" height="200"></canvas></div>
      </div>

      <div id="breakdown" class="mt-4 space-y-2"></div>

      <div class="mt-4 flex gap-3">
        <button id="retryBtn" class="flex-1 py-2 rounded-lg bg-accent text-white">Қайтадан өту</button>
        <button id="shareBtn" class="flex-1 py-2 rounded-lg border border-slate-200">Нәтижені көшіру</button>
      </div>
    </div>

    <footer class="mt-5 text-center text-xs text-slate-400">© МАТЕМАТИК АЙАНА · Mobile-first · Animations by GSAP & Lottie</footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
